 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editor de HTML con Vista Previa y Búsqueda</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #333; /* Fondo azul oscuro para el body */
        color: white; /* Texto blanco */
    }
    .preview-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
    }
    .preview-popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #fff; /* Fondo blanco para la ventana emergente */
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        z-index: 1001;
        width: 90%; /* Ancho de la ventana emergente */
        max-width: 900px; /* Ancho máximo de la ventana emergente */
        height: 90%; /* Altura de la ventana emergente */
        max-height: 900px; /* Altura máxima de la ventana emergente */
        overflow-y: auto; /* Habilitar el desplazamiento vertical si el contenido es demasiado grande */
    }
    .close-btn {
        position: absolute;
        top: 10px;
        right: 10px;
        cursor: pointer;
    }
    #htmlCode {
        width: 100%; /* Ancho del área de texto */
        max-width: 800px; /* Ancho máximo del área de texto */
        height: 500px; /* Altura del área de texto */
        background-color: #fff; /* Fondo blanco para el área de texto */
        color: #333; /* Texto oscuro para el área de texto */
    }
    .highlight {
        background-color: yellow; /* Resaltado amarillo para el texto buscado */
    }
    .close-preview-btn {
        position: absolute;
        top: 10px;
        left: 10px;
        cursor: pointer;
    }
</style>
</head>
<body>

<textarea id="htmlCode" cols="80" rows="10" placeholder="Inserta tu código HTML aquí"></textarea><br>
<input type="text" id="searchInput" placeholder="Buscar texto">
<button id="searchBtn">Buscar</button>
<button id="previewBtn">Vista Previa</button>

<div class="preview-overlay" id="previewOverlay">
    <div class="preview-popup">
        <button class="close-preview-btn" id="closePreviewBtnAlt">Cerrar</button>
        <span class="close-btn" id="closePreviewBtn">&times;</span>
        <iframe id="previewFrame" width="100%" height="100%" frameborder="0"></iframe>
    </div>
</div>

<script>
    const htmlCodeTextarea = document.getElementById('htmlCode');
    const searchInput = document.getElementById('searchInput');
    const searchBtn = document.getElementById('searchBtn');
    const previewBtn = document.getElementById('previewBtn');
    const previewOverlay = document.getElementById('previewOverlay');
    const closePreviewBtn = document.getElementById('closePreviewBtn');
    const closePreviewBtnAlt = document.getElementById('closePreviewBtnAlt');
    const previewFrame = document.getElementById('previewFrame');

    searchBtn.addEventListener('click', function() {
        const searchText = searchInput.value;
        const htmlCode = htmlCodeTextarea.value;
        const highlightedHtml = htmlCode.replace(new RegExp(searchText, 'gi'), '<span class="highlight">$&</span>');
        htmlCodeTextarea.value = highlightedHtml;
    });

    previewBtn.addEventListener('click', function() {
        const htmlCode = htmlCodeTextarea.value;
        const encodedHtml = encodeURIComponent(htmlCode);
        const previewUrl = `data:text/html;charset=UTF-8,${encodedHtml}`;

        previewFrame.src = previewUrl;
        previewOverlay.style.display = 'block';
    });

    closePreviewBtn.addEventListener('click', function() {
        previewOverlay.style.display = 'none';
    });

    closePreviewBtnAlt.addEventListener('click', function() {
        previewOverlay.style.display = 'none';
    });
</script>

</body>
</html>
